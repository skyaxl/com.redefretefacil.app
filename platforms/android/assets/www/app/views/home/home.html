<ons-page ng-init="pageTitle = 'Rede Frete Fácil';showContext = true" ons-page ng-controller="dashboardController as vm">

    <ng-include src="'app/views/shared/toolbar-with-back.html'"></ng-include>

            <div class="big-notification" ng-class="{'anime-hide' : animeHide}" ng-swipe-right="animeHide = true" >
                <p>
                    Mantenha seus caminhões agendados e aumente suas oportunidades.
                </p>
            </div>

            <button class="schedule free" ng-repeat="truck in vm.trucks" ng-if="!truck.scheduled" ng-click="vm.add(truck)">
                <div class="row">
                    <ons-col width="40%">
                        <ons-button modifier="large" class="truck">
                            <i class="icon-icone_truck">
                            </i>

                            <p>{{truck.plate}}</p>
                        </ons-button>
                    </ons-col>
                    <ons-col width="60%">
                        <div class="container">
                            <h5 class="title">Agendar Caminhão</h5>
                        </div>
                    </ons-col>
                </div>
            </button>

            <div class="schedule success" id="schedule-{{$index}}" ng-repeat="schedule in vm.schedules">
                <div class="row">
                    <ons-col width="40%">
                        <ons-button modifier="large" class="truck">
                            <i class="icon-icone_truck">
                            </i>

                            <p >{{schedule.truck.plate}}</p>
                        </ons-button>
                    </ons-col>
                    <ons-col width="53%">
                        <div class="container">
                            <h6 class="title">{{schedule.moment.format('DD/MM') + '(' + schedule.moment.format('dddd')
                                +')' }}
                                <ons-icon icon="fa-check-circle ">

                                </ons-icon>
                                <br>
                                <small>{{schedule.location}}</small>
                            </h6>
                        </div>
                    </ons-col>
                    <ons-col width="7%">
                        <ons-button modifier="quiet" class="right options" id="schedule-options-{{$index}}" ng-click="vm.popoveSchedule('#schedule-options-' + $index,schedule)">
                            <ons-icon icon="ion-more" class="ellipse-button"  ng-init="vm.fix()">

                            </ons-icon>
                        </ons-button>
                    </ons-col>
                </div>
            </div>
</ons-page>
